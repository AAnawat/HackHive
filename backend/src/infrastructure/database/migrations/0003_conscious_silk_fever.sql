DROP VIEW "public"."problemsWithLikes";--> statement-breakpoint
CREATE VIEW "public"."problemsWithLikes" AS (select "problems"."id", "problems"."problem", "problems"."description", "problems"."difficulty", "problems"."score", "problems"."task_definition", "problems"."duration_minutes", COUNT("usersLikeProblems"."is_like" = true OR NULL)::float / NULLIF(COUNT("usersLikeProblems"."id"), 0) * 100 as "likes" from "problems" left join "solvedRecords" on "problems"."id" = "solvedRecords"."problem_id" left join "usersLikeProblems" on "solvedRecords"."id" = "usersLikeProblems"."solve_id" group by "problems"."id");